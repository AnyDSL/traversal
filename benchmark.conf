# Configuration file for the traversal benchmark

# Tools
ref_intr = 'build/src/frontend' # Reference intersection program
bvh_io = '../benchsiggraphasia15/build/bvh_extractor/bvhExtractor' # BVH file generator
gen_prim = 'build/src/genprimary'   # Primary rays generator
gen_shadow = 'build/src/genshadow'  # Shadow rays generator
gen_random = 'build/src/genrandom'  # Random rays generator
fbuf2png = 'build/src/fbuf2png'     # FBUF to PNG converter

# Generator tools options
num_cores = 4           # Number of cores used when generating BVH and ray files

# Directories
obj_dir  = 'benchmarks/models'     # OBJ models directory
bvh_dir  = 'benchmarks/bvhs'     # BVH file directory
rays_dir = 'benchmarks/distribs'   # Ray distribution directory
res_dir  = 'benchmarks/results'    # Benchmark results directory

# Benchmark programs
benches = ['build/src/frontend']#['../benchsiggraphasia15/build/embree_cpu/imbaEmbreeBench']
#, '../benchSIGGRAPH/build/aila_gpu/imbaAilaGPUBench', 'build/src/frontend'

# Benchmark parameters
runs = 1                # Number of iterations
dryruns = 0             # Number of warmup iterations

tmin_shadow = 0.01
tmax_shadow = 1.0
tmin_primary = 0.0
tmax_primary = 100.0
tmax_primary_sponza = 1.0e4 # Sponza is borked, need a greater tmax
tmin_random = 0.0
tmax_random = 1.0
image_width = 1024
image_height = 1024
global_fov = 60.0

# Dataset
rays = {
#SIBENIK
    "sibenik01.rays": {
        "generate": "primary",
        "eye": (-18.2811, -2.25304, 0.275947),
        "center": (-4.26923, -7.03783, -0.408836),
        "up": (0.322924, 0.94641, -0.00525832),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "sibenik02.rays": {
        "generate": "primary",
        "eye": (-6.95506, -10.1702, -2.13089),
        "center": (7.52135, -12.3457, 0.192128),
        "up": (0.142136, 0.98902, 0.0404473),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "sibenik03.rays": {
        "generate": "primary",
        "eye": (14.9961, -9.35904, 0.361284),
        "center": (0.272119, -11.0443, 0.114674),
        "up": (-0.113891, 0.993432, 0.011062),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "sibenik-shadow01.rays": {
        "generate": "shadow",
        "light": (2.15402, -4.52931, 2.0062),
        "primary": "sibenik01.rays",
        "scene": "sibenik.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sibenik-shadow02.rays": {
        "generate": "shadow",
        "light": (2.15402, -4.52931, 2.0062),
        "primary": "sibenik02.rays",
        "scene": "sibenik.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sibenik-shadow03.rays": {
        "generate": "shadow",
        "light": (2.15402, -4.52931, 2.0062),
        "primary": "sibenik03.rays",
        "scene": "sibenik.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sibenik-random01.rays": {
        "generate": "random",
        "scene": "sibenik.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_random,
        "tmax": tmax_random
    },
# Conference
    "conference01.rays": {
        "generate": "primary",
        "eye": (1424.66, 303.848, -498.319),
        "center": (1411.32, 301.019, -492.511),
        "up": (-0.17888, 0.981575, 0.0671665),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "conference02.rays": {
        "generate": "primary",
        "eye": (1312.89, 222.144, 404.124),
        "center": (1299.3, 222.678, 398.229),
        "up": (0.0440736, 0.998965, -0.0112472),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "conference03.rays": {
        "generate": "primary",
        "eye": (-560.813, 287.203, 182.534),
        "center": (-547.06, 285.032, 177.45),
        "up": (0.127969, 0.988847, -0.0761895),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "conference-shadow01.rays": {
        "generate": "shadow",
        "light": (0, 400.712, 0),
        "primary": "conference01.rays",
        "scene": "conference.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "conference-shadow02.rays": {
        "generate": "shadow",
        "light": (0, 400.712, 0),
        "primary": "conference02.rays",
        "scene": "conference.bvh",    
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "conference-shadow03.rays": {
        "generate": "shadow",
        "light": (0, 400.712, 0),
        "primary": "conference03.rays",   
        "scene": "conference.bvh",    
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "conference-random01.rays": {
        "generate": "random",
        "scene": "conference.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_random,
        "tmax": tmax_random
    },
#Fairy Forest
    "fairy01.rays": {
        "generate": "primary",
        "eye": (0.498881, 0.108777, 1.04898),
        "center": (-5.70913, 1.01055, -12.3806),
        "up": (0.0131236, 0.998055, 0.0609511),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "fairy02.rays": {
        "generate": "primary",
        "eye": (0.54884, 0.188031, 0.254545),
        "center": (-13.3464, 0.435512, -4.89974),
        "up": (0.0192428, 0.999807, -0.00387065),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "fairy03.rays": {
        "generate": "primary",
        "eye": (-1.33555, 0.427345, 1.44613),
        "center": (8.27059, 0.269979, -9.84117),
        "up": (0.0226603, 0.999729, 0.0053471),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "fairy-shadow01.rays": {
        "generate": "shadow",
        "light": (0, 400.712, 0),
        "primary": "fairy01.rays",
        "scene": "fairy.bvh",   
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "fairy-shadow02.rays": {
        "generate": "shadow",
        "light": (0, 400.712, 0),
        "primary": "fairy02.rays",
        "scene": "fairy.bvh",   
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "fairy-shadow03.rays": {
        "generate": "shadow",
        "light": (0, 400.712, 0),
        "primary": "fairy03.rays",  
        "scene": "fairy.bvh",   
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "fairy-random01.rays": {
        "generate": "random",
        "scene": "fairy.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_random,
        "tmax": tmax_random
    },
#Sponza
   "sponza01.rays": {
        "generate": "primary",
        "eye": (877.909, 318.274, 34.6546),
        "center": (863.187, 316.6, 34.2517),
        "up": (-0.112554, 0.993521, -0.0157559),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary_sponza
    },
    "sponza02.rays": {
        "generate": "primary",
        "eye": (-1222.21, 624.741, -125.23),
        "center": (-1207.66, 622.1, -124.305),
        "up": (0.176442, 0.983779, 0.0323752),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary_sponza
    },
    "sponza03.rays": {
        "generate": "primary",
        "eye": (-178.02, 171.684, -169.67),
        "center": (-191.321, 175.935, -164.698),
        "up": (0.276753, 0.95774, -0.0783763),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary_sponza
    },
    "sponza-shadow01.rays": {
        "generate": "shadow",
        "light": (-45.8693, 916.24, -54.8576),
        "primary": "sponza01.rays",
        "scene": "sponza.bvh", 
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sponza-shadow02.rays": {
        "generate": "shadow",
        "light": (-45.8693, 916.24, -54.8576),
        "primary": "sponza02.rays",
        "scene": "sponza.bvh", 
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sponza-shadow03.rays": {
        "generate": "shadow",
        "light": (-45.8693, 916.24, -54.8576),
        "primary": "sponza03.rays",   
        "scene": "sponza.bvh", 
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sponza-random01.rays": {
        "generate": "random",
        "scene": "sponza.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_random,
        "tmax": tmax_random
    },
#San Miguel
    "sanmiguel01.rays": {
        "generate": "primary",
        "eye": (7.53935, 0.837878, 5.38729),
        "center": (21.1698, -0.0684199, 11.1404),
        "up": (0.047617, 0.997879, 0.0443821),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "sanmiguel02.rays": {
        "generate": "primary",
        "eye": (14.8795, 2.40924, -0.499533),
        "center": (17.2911, -0.718878, 13.7871),
        "up": (0.044568, 0.977433, 0.20649),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "sanmiguel03.rays": {
        "generate": "primary",
        "eye": (6.58589, 9.46392, 7.78309),
        "center": (18.1363, 3.60199, 0.576542),
        "up": (0.387071, 0.913818, -0.122931),
        "fov": global_fov,
        "width": image_width,
        "height": image_height,
        "tmin": tmin_primary,
        "tmax": tmax_primary
    },
    "sanmiguel-shadow01.rays": {
        "generate": "shadow",
        "light": (-45.8693, 916.24, -54.8576),
        "primary": "sanmiguel01.rays",
        "scene": "sanmiguel.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sanmiguel-shadow02.rays": {
        "generate": "shadow",
        "light": (-45.8693, 916.24, -54.8576),
        "primary": "sanmiguel02.rays",
        "scene": "sanmiguel.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sanmiguel-shadow03.rays": {
        "generate": "shadow",
        "light": (-45.8693, 916.24, -54.8576),
        "primary": "sanmiguel03.rays",
        "scene": "sanmiguel.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_shadow,
        "tmax": tmax_shadow
    },
    "sanmiguel-random01.rays": {
        "generate": "random",
        "scene": "sanmiguel.bvh",
        "width": image_width,
        "height": image_height,
        "tmin": tmin_random,
        "tmax": tmax_random
    },
}
scenes = {
    "sibenik.bvh": ["sibenik01.rays","sibenik02.rays","sibenik03.rays", "sibenik-shadow01.rays", "sibenik-shadow02.rays","sibenik-shadow03.rays",  "sibenik-random01.rays"],
    "conference.bvh": ["conference01.rays","conference02.rays","conference03.rays", "conference-shadow01.rays", "conference-shadow02.rays","conference-shadow03.rays",  "conference-random01.rays"],
   "fairy.bvh": ["fairy01.rays","fairy02.rays","fairy03.rays", "fairy-shadow01.rays", "fairy-shadow02.rays","fairy-shadow03.rays",  "fairy-random01.rays"],
    "sponza.bvh": ["sponza01.rays","sponza02.rays","sponza03.rays", "sponza-shadow01.rays", "sponza-shadow02.rays","sponza-shadow03.rays",  "sponza-random01.rays"],
    "sanmiguel.bvh": ["sanmiguel01.rays","sanmiguel02.rays","sanmiguel03.rays", "sanmiguel-shadow01.rays", "sanmiguel-shadow02.rays","sanmiguel-shadow03.rays",  "sanmiguel-random01.rays"],

}             # Dictionary of BVH files associated with their distributions
